@using Letterbook.Web.Tags
@using Microsoft.AspNetCore.Html
@model Models.Post

<article>
    <header class="post-header">
        <div class="post-author">
            <div class="post-pfp">
                <a asp-page="Profile" asp-route-id="@Model.Creators.First().Handle">
                    <img class="pfp-sm inline" src="/img/user-square.png" alt="@Model.Creators.First().DisplayName profile picture"/>
                </a>
            </div>
            <div class="post-profile-container">
                <a asp-page="Profile" asp-route-id="@Model.Creators.First().Handle">
                    <div class="display-name">@Model.Creators.First().DisplayName</div>
                    <div class="handle">@@@Model.Creators.First().Handle</div>
                </a>
            </div>
        </div>
    </header>
    <div class="post-body">
        @(new HtmlString(Model.Contents.First().Html))
    </div>
    <footer class="post-footer">
        <button class="outline" disabled><app-icon type=@Icon.Like /><span class="min-lg"> like</span></button>
        <button class="outline" disabled><app-icon type=@Icon.Share /><span class="min-lg"> share</span></button>
        <a asp-page="Thread" asp-route-postId="@Model.Id">
            <button class="outline"><app-icon type=@Icon.Thread/><span class="min-lg"> open</span></button>
        </a>
        <span class="spacer"></span>
        <a asp-page="Thread" asp-route-postId="@Model.Id">
            <time datetime="@((Model.UpdatedDate ?? Model.CreatedDate).ToString("r"))">@((Model.UpdatedDate ?? Model.CreatedDate).ToString("MMM\u00A0d h:mm\u00A0tt"))</time>
        </a>
        <button class="outline"><app-icon type=@Icon.More /></button>
    </footer>
</article>
@page
@model IndexModel
@{
    ViewData["Title"] = "Home";
}

@if(User.Identity?.IsAuthenticated == true)
{
    <vc:post-editor self-id="@Model.Self?.Id ?? default" post-id="default(Models.PostId?)"></vc:post-editor>
    
    <section class="timeline">
        <h1>Home</h1>
        @foreach (var post in await Model.GetPosts())
        {
            <partial name="Shared/_TimelinePostPartial" model="post"/>
        }
    </section>
}
else
{
    <partial name="Shared/_AboutPartial"/>
}
